<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regression Tracker & Progress Journal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #20b2aa 0%, #008b8b 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .value-badge {
            display: inline-block;
            background: linear-gradient(45deg, #20b2aa, #008b8b);
            color: white;
            padding: 10px 25px;
            border-radius: 25px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 5px 15px rgba(32, 178, 170, 0.3);
        }

        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .tab {
            background: rgba(255, 255, 255, 0.8);
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            color: #2c3e50;
        }

        .tab.active {
            background: linear-gradient(45deg, #20b2aa, #008b8b);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(32, 178, 170, 0.3);
        }

        .tab:hover:not(.active) {
            background: rgba(255, 255, 255, 0.95);
            transform: translateY(-1px);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeInUp 0.5s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tracking-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .card-title {
            font-size: 1.8rem;
            color: #2c3e50;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #20b2aa;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .rating-scale {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .rating-button {
            width: 40px;
            height: 40px;
            border: 2px solid #e9ecef;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .rating-button:hover {
            border-color: #20b2aa;
            background: rgba(32, 178, 170, 0.1);
        }

        .rating-button.selected {
            background: linear-gradient(45deg, #20b2aa, #008b8b);
            color: white;
            border-color: transparent;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        .checkbox-item:hover {
            background: rgba(32, 178, 170, 0.05);
        }

        .checkbox-item input[type="checkbox"] {
            width: auto;
            margin: 0;
        }

        .progress-section {
            background: linear-gradient(45deg, #66bb6a, #4caf50);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .weekly-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .day-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .day-card:hover {
            border-color: #20b2aa;
            transform: translateY(-2px);
        }

        .day-card.completed {
            background: linear-gradient(45deg, #66bb6a, #4caf50);
            color: white;
            border-color: transparent;
        }

        .day-name {
            font-weight: bold;
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .day-status {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .reflection-prompt {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #20b2aa;
            margin: 15px 0;
        }

        .save-button {
            background: linear-gradient(45deg, #20b2aa, #008b8b);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 0;
        }

        .save-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(32, 178, 170, 0.4);
        }

        .print-section {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .print-button {
            background: linear-gradient(45deg, #20b2aa, #008b8b);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(32, 178, 170, 0.3);
            transition: all 0.3s ease;
        }

        .print-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(32, 178, 170, 0.4);
        }

        .quick-wins {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .win-card {
            background: linear-gradient(45deg, #66bb6a, #4caf50);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .win-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 187, 106, 0.3);
        }

        .win-card.selected {
            background: linear-gradient(45deg, #43a047, #388e3c);
        }

        .trigger-chart {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid #e9ecef;
        }

        .chart-row {
            display: grid;
            grid-template-columns: 2fr 2fr 2fr 1fr;
            gap: 15px;
            padding: 10px;
            border-bottom: 1px solid #e9ecef;
            align-items: center;
        }

        .chart-header {
            font-weight: bold;
            background: rgba(102, 126, 234, 0.1);
            color: #2c3e50;
        }

        .severity-indicator {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin: 0 auto;
            cursor: pointer;
        }

        .severity-low { background: #66bb6a; }
        .severity-medium { background: #ffa726; }
        .severity-high { background: #ef5350; }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .weekly-grid {
                grid-template-columns: 1fr;
            }
            
            .print-section {
                position: static;
                margin-top: 30px;
                align-items: center;
            }
        }

        @media print {
            body {
                background: white;
            }
            
            .print-section, .tabs {
                display: none;
            }
            
            .tracking-card {
                background: white;
                box-shadow: none;
                border: 1px solid #ddd;
                page-break-inside: avoid;
                margin-bottom: 30px;
            }
            
            .tab-content {
                display: block !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📊 Regression Tracker & Progress Journal</h1>
            <p class="subtitle">Track progress, spot patterns, and celebrate wins — 2 minutes a day</p>
            <div class="value-badge">Value: $37 • Daily Success System</div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('daily')">📅 Daily Log</button>
            <button class="tab" onclick="showTab('weekly')">📈 Weekly Review</button>
            <button class="tab" onclick="showTab('triggers')">🎯 Trigger Chart</button>
            <button class="tab" onclick="showTab('progress')">🏆 Progress Wins</button>
            <button class="tab" onclick="showTab('checklist')">✅ Reset Checklist</button>
            <button class="tab" onclick="showTab('data')">💾 My Data</button>
        </div>

        <!-- Daily Log Tab -->
        <div id="daily" class="tab-content active">
            <div class="tracking-card">
                <div class="card-title">
                    <span>📅</span>
                    Daily Behavior Log
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Date</label>
                        <input type="date" id="daily-date">
                    </div>
                    <div class="form-group">
                        <label>Overall Day Rating</label>
                        <div class="rating-scale">
                            <div class="rating-button" onclick="selectRating(this, 1)">1</div>
                            <div class="rating-button" onclick="selectRating(this, 2)">2</div>
                            <div class="rating-button" onclick="selectRating(this, 3)">3</div>
                            <div class="rating-button" onclick="selectRating(this, 4)">4</div>
                            <div class="rating-button" onclick="selectRating(this, 5)">5</div>
                            <span style="margin-left: 10px; color: #7f8c8d;">1=Challenging, 5=Excellent</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>🚨 Regression Behaviors Seen Today</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="barking"> <label for="barking">Excessive barking</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="jumping"> <label for="jumping">Jumping on people</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="pulling"> <label for="pulling">Leash pulling</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="accidents"> <label for="accidents">Indoor accidents</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="ignoring"> <label for="ignoring">Ignoring commands</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="destruction"> <label for="destruction">Destructive behavior</label>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>🎯 Main Trigger Today</label>
                        <select>
                            <option>Select trigger...</option>
                            <option>Doorbell/visitors</option>
                            <option>Other dogs</option>
                            <option>Loud noises</option>
                            <option>Being left alone</option>
                            <option>Schedule change</option>
                            <option>Owner stress</option>
                            <option>New environment</option>
                            <option>Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>⚡ My Energy Level</label>
                        <select>
                            <option>Select...</option>
                            <option>Calm & consistent</option>
                            <option>Slightly stressed</option>
                            <option>Frustrated</option>
                            <option>Overwhelmed</option>
                            <option>Angry/reactive</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>🔄 Reset Methods Used Today</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="reset-ritual"> <label for="reset-ritual">10-min reset ritual</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="oops-cue"> <label for="oops-cue">"Oops" recovery cue</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="calm-zone"> <label for="calm-zone">Calm zone redirect</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="environment"> <label for="environment">Environment adjustment</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="breathing"> <label for="breathing">Breathing/self-regulation</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="emergency-plan"> <label for="emergency-plan">Emergency rescue plan</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>🏆 One Win Today (No Matter How Small)</label>
                    <textarea rows="3" placeholder="Example: Dog looked at me when I said their name... Stayed calm for 5 seconds when doorbell rang... I used reset cue instead of yelling..."></textarea>
                </div>

                <div class="form-group">
                    <label>📝 Notes & Observations</label>
                    <textarea rows="3" placeholder="What patterns are you noticing? What worked well? What would you do differently?"></textarea>
                </div>

                <button class="save-button" onclick="saveDailyLog()">💾 Save Today's Log</button>
            </div>
        </div>

        <!-- Weekly Review Tab -->
        <div id="weekly" class="tab-content">
            <div class="tracking-card">
                <div class="card-title">
                    <span>📈</span>
                    Weekly Progress Review
                </div>

                <div class="form-group">
                    <label>Week of:</label>
                    <input type="date" id="week-start">
                </div>

                <div class="weekly-grid">
                    <div class="day-card" onclick="toggleDay(this)">
                        <div class="day-name">MON</div>
                        <div class="day-status">Reset Done</div>
                    </div>
                    <div class="day-card" onclick="toggleDay(this)">
                        <div class="day-name">TUE</div>
                        <div class="day-status">Reset Done</div>
                    </div>
                    <div class="day-card" onclick="toggleDay(this)">
                        <div class="day-name">WED</div>
                        <div class="day-status">Reset Done</div>
                    </div>
                    <div class="day-card" onclick="toggleDay(this)">
                        <div class="day-name">THU</div>
                        <div class="day-status">Reset Done</div>
                    </div>
                    <div class="day-card" onclick="toggleDay(this)">
                        <div class="day-name">FRI</div>
                        <div class="day-status">Reset Done</div>
                    </div>
                    <div class="day-card" onclick="toggleDay(this)">
                        <div class="day-name">SAT</div>
                        <div class="day-status">Reset Done</div>
                    </div>
                    <div class="day-card" onclick="toggleDay(this)">
                        <div class="day-name">SUN</div>
                        <div class="day-status">Reset Done</div>
                    </div>
                </div>

                <div class="reflection-prompt">
                    <h3>🤔 Weekly Reflection Questions</h3>
                    <div class="form-group">
                        <label>What was your biggest win this week?</label>
                        <textarea rows="2"></textarea>
                    </div>
                    <div class="form-group">
                        <label>What pattern did you notice in triggers or behaviors?</label>
                        <textarea rows="2"></textarea>
                    </div>
                    <div class="form-group">
                        <label>What reset method worked best for your dog?</label>
                        <textarea rows="2"></textarea>
                    </div>
                    <div class="form-group">
                        <label>What do you want to focus on next week?</label>
                        <textarea rows="2"></textarea>
                    </div>
                </div>

                <button class="save-button" onclick="saveWeeklyReview()">💾 Save Weekly Review</button>
            </div>
        </div>

        <!-- Trigger Chart Tab -->
        <div id="triggers" class="tab-content">
            <div class="tracking-card">
                <div class="card-title">
                    <span>🎯</span>
                    Trigger-Response Pattern Chart
                </div>

                <div class="trigger-chart">
                    <div class="chart-row chart-header">
                        <div>Trigger Situation</div>
                        <div>Dog's Response</div>
                        <div>What I Did</div>
                        <div>Severity</div>
                    </div>
                    <div class="chart-row">
                        <input type="text" placeholder="e.g., Doorbell rang">
                        <input type="text" placeholder="e.g., Barked for 2 minutes">
                        <input type="text" placeholder="e.g., Used 'Oops' cue">
                        <div class="severity-indicator severity-medium" onclick="cycleSeverity(this)"></div>
                    </div>
                    <div class="chart-row">
                        <input type="text" placeholder="Trigger...">
                        <input type="text" placeholder="Response...">
                        <input type="text" placeholder="My action...">
                        <div class="severity-indicator severity-low" onclick="cycleSeverity(this)"></div>
                    </div>
                    <div class="chart-row">
                        <input type="text" placeholder="Trigger...">
                        <input type="text" placeholder="Response...">
                        <input type="text" placeholder="My action...">
                        <div class="severity-indicator severity-low" onclick="cycleSeverity(this)"></div>
                    </div>
                </div>

                <button class="save-button" onclick="addTriggerRow()">➕ Add Another Row</button>
                <button class="save-button" onclick="saveTriggerChart()">💾 Save Pattern Chart</button>
            </div>
        </div>

        <!-- Progress Wins Tab -->
        <div id="progress" class="tab-content">
            <div class="tracking-card">
                <div class="card-title">
                    <span>🏆</span>
                    Progress Wins Tracker
                </div>

                <div class="progress-section">
                    <h3>🎉 Celebrate Every Victory!</h3>
                    <p>Click the wins you've experienced. Even small progress matters!</p>
                </div>

                <div class="quick-wins">
                    <div class="win-card" onclick="toggleWin(this)">
                        <div>🔇</div>
                        <div>Quieter barking at door</div>
                    </div>
                    <div class="win-card" onclick="toggleWin(this)">
                        <div>👀</div>
                        <div>Made eye contact during chaos</div>
                    </div>
                    <div class="win-card" onclick="toggleWin(this)">
                        <div>🚶</div>
                        <div>Walked calmly for 5+ minutes</div>
                    </div>
                    <div class="win-card" onclick="toggleWin(this)">
                        <div>🏠</div>
                        <div>No accidents today</div>
                    </div>
                    <div class="win-card" onclick="toggleWin(this)">
                        <div>✋</div>
                        <div>Responded to "Oops" cue</div>
                    </div>
                    <div class="win-card" onclick="toggleWin(this)">
                        <div>🛏️</div>
                        <div>Went to calm zone willingly</div>
                    </div>
                    <div class="win-card" onclick="toggleWin(this)">
                        <div>😌</div>
                        <div>I stayed calm during meltdown</div>
                    </div>
                    <div class="win-card" onclick="toggleWin(this)">
                        <div>⏰</div>
                        <div>Completed 10-min reset ritual</div>
                    </div>
                </div>

                <div class="form-group" style="margin-top: 30px;">
                    <label>🌟 Biggest Breakthrough This Month</label>
                    <textarea rows="3" placeholder="Describe your most significant progress moment..."></textarea>
                </div>

                <div class="form-group">
                    <label>📊 Progress Rating (1-10)</label>
                    <div class="rating-scale">
                        <div class="rating-button" onclick="selectRating(this, 1)">1</div>
                        <div class="rating-button" onclick="selectRating(this, 2)">2</div>
                        <div class="rating-button" onclick="selectRating(this, 3)">3</div>
                        <div class="rating-button" onclick="selectRating(this, 4)">4</div>
                        <div class="rating-button" onclick="selectRating(this, 5)">5</div>
                        <div class="rating-button" onclick="selectRating(this, 6)">6</div>
                        <div class="rating-button" onclick="selectRating(this, 7)">7</div>
                        <div class="rating-button" onclick="selectRating(this, 8)">8</div>
                        <div class="rating-button" onclick="selectRating(this, 9)">9</div>
                        <div class="rating-button" onclick="selectRating(this, 10)">10</div>
                    </div>
                </div>

                <button class="save-button" onclick="saveProgressWins()">💾 Save Progress Update</button>
            </div>
        </div>

        <!-- Reset Checklist Tab -->
        <div id="checklist" class="tab-content">
            <div class="tracking-card">
                <div class="card-title">
                    <span>✅</span>
                    Quick Reset Checklist (Print & Post on Fridge!)
                </div>

                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border: 2px dashed #667eea;">
                    <h3 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">📋 EMERGENCY RESET CHECKLIST</h3>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                        <div>
                            <h4 style="color: #667eea; margin-bottom: 15px;">🚨 When Dog is Spiraling:</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li style="margin: 8px 0;">☐ Take 3 deep breaths</li>
                                <li style="margin: 8px 0;">☐ Turn sideways (no direct eye contact)</li>
                                <li style="margin: 8px 0;">☐ Say "Oops" in calm voice</li>
                                <li style="margin: 8px 0;">☐ Wait for ANY pause in behavior</li>
                                <li style="margin: 8px 0;">☐ Redirect to calm zone</li>
                                <li style="margin: 8px 0;">☐ Reward calm behavior only</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: #667eea; margin-bottom: 15px;">📅 Daily Reset Ritual:</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li style="margin: 8px 0;">☐ 2 minutes connection time</li>
                                <li style="margin: 8px 0;">☐ Practice 1-2 calm commands</li>
                                <li style="margin: 8px 0;">☐ Reinforce with quiet praise</li>
                                <li style="margin: 8px 0;">☐ End with calm energy</li>
                                <li style="margin: 8px 0;">☐ Log today's progress</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 20px; padding: 15px; background: white; border-radius: 8px;">
                        <h4 style="color: #2c3e50; margin-bottom: 10px;">🎯 Quick Cue Reminders:</h4>
                        <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 10px;">
                            <span style="background: #667eea; color: white; padding: 5px 10px; border-radius: 15px; font-size: 0.9rem;">"Oops"</span>
                            <span style="background: #667eea; color: white; padding: 5px 10px; border-radius: 15px; font-size: 0.9rem;">"Let's try again"</span>
                            <span style="background: #667eea; color: white; padding: 5px 10px; border-radius: 15px; font-size: 0.9rem;">"Let's go"</span>
                            <span style="background: #667eea; color: white; padding: 5px 10px; border-radius: 15px; font-size: 0.9rem;">"Breathe"</span>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: 20px; font-weight: bold; color: #2c3e50;">
                        📞 Emergency: Use your Emergency Regression Rescue Plan for specific scenarios
                    </div>
                </div>

                <button class="save-button" onclick="window.print()" style="margin-top: 20px;">🖨️ Print This Checklist</button>
            </div>
        </div>

        <!-- Data Management Tab -->
        <div id="data" class="tab-content">
            <div class="tracking-card">
                <div class="card-title">
                    <span>💾</span>
                    Your Saved Data
                </div>

                <div style="background: linear-gradient(45deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h3>📊 Data Storage Info</h3>
                    <p>Your data is saved locally in your browser. It stays private and secure on your device.</p>
                    <div id="data-summary" style="margin-top: 15px; font-weight: bold;">
                        Loading data summary...
                    </div>
                </div>

                <div class="form-row">
                    <button class="save-button" onclick="showDataSummary()">📋 View Data Summary</button>
                    <button class="save-button" onclick="exportData()">📁 Download My Data</button>
                    <button class="save-button" onclick="clearAllData()" style="background: linear-gradient(45deg, #ef5350, #e53935);">🗑️ Clear All Data</button>
                </div>

                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-top: 20px;">
                    <h4>💡 How to access your detailed data:</h4>
                    <ol style="margin-left: 20px; margin-top: 10px;">
                        <li>Right-click anywhere on this page</li>
                        <li>Select "Inspect" or "Developer Tools"</li>
                        <li>Click the "Console" tab</li>
                        <li>Type <code style="background: #e9ecef; padding: 2px 6px; border-radius: 3px;">viewMyData()</code> and press Enter</li>
                        <li>Your complete data will be displayed</li>
                    </ol>
                    <p style="margin-top: 15px; font-style: italic;">This gives you full access to all your logs, patterns, and progress tracking data.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="print-section">
        <button class="print-button" onclick="window.print()">🖨️ Print Current Page</button>
        <button class="print-button" onclick="printAll()">📄 Print All Pages</button>
    </div>

    <script>
        // Set today's date by default
        document.getElementById('daily-date').valueAsDate = new Date();
        document.getElementById('week-start').valueAsDate = new Date();

        function showTab(tabName) {
            // Hide all tab contents
            const allTabs = document.querySelectorAll('.tab-content');
            allTabs.forEach(tab => tab.classList.remove('active'));

            // Remove active class from all tab buttons
            const allTabButtons = document.querySelectorAll('.tab');
            allTabButtons.forEach(tab => tab.classList.remove('active'));

            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function selectRating(element, rating) {
            // Remove selected class from siblings
            const siblings = element.parentNode.querySelectorAll('.rating-button');
            siblings.forEach(btn => btn.classList.remove('selected'));

            // Add selected class to clicked element
            element.classList.add('selected');
            
            // Store rating value
            element.parentNode.setAttribute('data-rating', rating);
        }

        function toggleDay(dayCard) {
            dayCard.classList.toggle('completed');
            const status = dayCard.querySelector('.day-status');
            if (dayCard.classList.contains('completed')) {
                status.textContent = '✅ Done';
            } else {
                status.textContent = 'Reset Done';
            }
        }

        function toggleWin(winCard) {
            winCard.classList.toggle('selected');
        }

        function cycleSeverity(indicator) {
            if (indicator.classList.contains('severity-low')) {
                indicator.className = 'severity-indicator severity-medium';
            } else if (indicator.classList.contains('severity-medium')) {
                indicator.className = 'severity-indicator severity-high';
            } else {
                indicator.className = 'severity-indicator severity-low';
            }
        }

        function addTriggerRow() {
            const chart = document.querySelector('.trigger-chart');
            const newRow = document.createElement('div');
            newRow.className = 'chart-row';
            newRow.innerHTML = `
                <input type="text" placeholder="Trigger...">
                <input type="text" placeholder="Response...">
                <input type="text" placeholder="My action...">
                <div class="severity-indicator severity-low" onclick="cycleSeverity(this)"></div>
            `;
            chart.appendChild(newRow);
        }

        function saveDailyLog() {
            const data = {
                date: document.getElementById('daily-date').value,
                rating: document.querySelector('.rating-scale[data-rating]')?.getAttribute('data-rating'),
                behaviors: Array.from(document.querySelectorAll('#daily input[type="checkbox"]:checked')).map(cb => cb.id),
                trigger: document.querySelector('#daily select').value,
                energyLevel: document.querySelectorAll('#daily select')[1].value,
                resetMethods: Array.from(document.querySelectorAll('#daily .checkbox-group:last-of-type input[type="checkbox"]:checked')).map(cb => cb.id),
                wins: document.querySelector('#daily textarea').value,
                notes: document.querySelectorAll('#daily textarea')[1].value,
                timestamp: new Date().toISOString()
            };
            
            // Save to localStorage
            const dailyLogs = JSON.parse(localStorage.getItem('dailyLogs') || '[]');
            const existingIndex = dailyLogs.findIndex(log => log.date === data.date);
            
            if (existingIndex >= 0) {
                dailyLogs[existingIndex] = data;
                alert('Daily log updated! 📝\n\nYour entry for ' + data.date + ' has been updated.');
            } else {
                dailyLogs.push(data);
                alert('Daily log saved! 🎉\n\nYour entry is saved locally in your browser. Keep tracking!');
            }
            
            localStorage.setItem('dailyLogs', JSON.stringify(dailyLogs));
            console.log('Saved daily logs:', dailyLogs);
        }

        function saveWeeklyReview() {
            const data = {
                weekStart: document.getElementById('week-start').value,
                completedDays: Array.from(document.querySelectorAll('.day-card.completed')).map(card => 
                    card.querySelector('.day-name').textContent
                ),
                reflections: {
                    biggestWin: document.querySelectorAll('#weekly textarea')[0].value,
                    patterns: document.querySelectorAll('#weekly textarea')[1].value,
                    bestMethod: document.querySelectorAll('#weekly textarea')[2].value,
                    nextWeekFocus: document.querySelectorAll('#weekly textarea')[3].value
                },
                timestamp: new Date().toISOString()
            };
            
            const weeklyReviews = JSON.parse(localStorage.getItem('weeklyReviews') || '[]');
            const existingIndex = weeklyReviews.findIndex(review => review.weekStart === data.weekStart);
            
            if (existingIndex >= 0) {
                weeklyReviews[existingIndex] = data;
            } else {
                weeklyReviews.push(data);
            }
            
            localStorage.setItem('weeklyReviews', JSON.stringify(weeklyReviews));
            alert('Weekly review saved! 📈\n\nYour reflection is saved. Weekly reviews help track long-term progress!');
            console.log('Saved weekly reviews:', weeklyReviews);
        }

        function saveTriggerChart() {
            const rows = document.querySelectorAll('.trigger-chart .chart-row:not(.chart-header)');
            const triggers = Array.from(rows).map(row => {
                const inputs = row.querySelectorAll('input');
                const severity = row.querySelector('.severity-indicator');
                return {
                    trigger: inputs[0].value,
                    response: inputs[1].value,
                    action: inputs[2].value,
                    severity: severity.classList.contains('severity-high') ? 'high' : 
                             severity.classList.contains('severity-medium') ? 'medium' : 'low'
                };
            }).filter(trigger => trigger.trigger || trigger.response || trigger.action);
            
            const data = {
                triggers: triggers,
                date: new Date().toLocaleDateString(),
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('triggerChart', JSON.stringify(data));
            alert('Trigger patterns saved! 🎯\n\nYour pattern chart is saved. Use this data to identify trends!');
            console.log('Saved trigger chart:', data);
        }

        function saveProgressWins() {
            const selectedWins = Array.from(document.querySelectorAll('.win-card.selected')).map(card => 
                card.textContent.trim()
            );
            
            const data = {
                selectedWins: selectedWins,
                breakthrough: document.querySelector('#progress textarea').value,
                progressRating: document.querySelector('#progress .rating-scale[data-rating]')?.getAttribute('data-rating'),
                date: new Date().toLocaleDateString(),
                timestamp: new Date().toISOString()
            };
            
            const progressWins = JSON.parse(localStorage.getItem('progressWins') || '[]');
            progressWins.push(data);
            
            localStorage.setItem('progressWins', JSON.stringify(progressWins));
            alert('Progress wins saved! 🏆\n\nYour victories are recorded! Celebrating progress builds momentum!');
            console.log('Saved progress wins:', progressWins);
        }

        function printAll() {
            // Show all tabs for printing
            const allTabs = document.querySelectorAll('.tab-content');
            allTabs.forEach(tab => tab.classList.add('active'));
            
            setTimeout(() => {
                window.print();
                // Reset to single tab view after printing
                setTimeout(() => {
                    allTabs.forEach(tab => tab.classList.remove('active'));
                    document.getElementById('daily').classList.add('active');
                }, 1000);
            }, 100);
        }

        // Auto-save functionality (simulated)
        function autoSave() {
            const inputs = document.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
                input.addEventListener('change', () => {
                    // In a real app, this would save to localStorage or backend
                    console.log('Auto-saving...', input.value);
                });
            });
        }

        // Initialize auto-save
        autoSave();
        
        // Show data summary on load
        setTimeout(showDataSummary, 500);

        // Motivational messages for different times of day
        function showMotivationalMessage() {
            const hour = new Date().getHours();
            let message = '';
            
            if (hour < 12) {
                message = 'Good morning! 🌅 Start today with your reset ritual.';
            } else if (hour < 17) {
                message = 'Afternoon check-in! 🌞 How is your dog\'s energy today?';
            } else {
                message = 'Evening reflection time! 🌙 What went well today?';
            }
            
            // Could display this message somewhere in the UI
            console.log(message);
        }

        // Show motivational message on load
        showMotivationalMessage();

        // Progress persistence (simplified)
        function loadSavedData() {
            // Load and display saved data counts
            const dailyLogs = JSON.parse(localStorage.getItem('dailyLogs') || '[]');
            const weeklyReviews = JSON.parse(localStorage.getItem('weeklyReviews') || '[]');
            const progressWins = JSON.parse(localStorage.getItem('progressWins') || '[]');
            
            console.log(`📊 Your saved data:
            - Daily logs: ${dailyLogs.length} entries
            - Weekly reviews: ${weeklyReviews.length} entries  
            - Progress wins: ${progressWins.length} entries
            
            💡 To view your data: Open browser Developer Tools (F12) > Console > Type "viewMyData()" and press Enter`);
            
            // Load the most recent daily log if today's date is selected
            const todayString = new Date().toISOString().split('T')[0];
            const todayLog = dailyLogs.find(log => log.date === todayString);
            if (todayLog && document.getElementById('daily-date').value === todayString) {
                loadDailyLogData(todayLog);
            }
        }
        
        function loadDailyLogData(data) {
            // Populate form with saved data
            if (data.rating) {
                const ratingButtons = document.querySelectorAll('#daily .rating-button');
                ratingButtons[data.rating - 1]?.click();
            }
            
            // Check saved behaviors
            data.behaviors?.forEach(behaviorId => {
                const checkbox = document.getElementById(behaviorId);
                if (checkbox) checkbox.checked = true;
            });
            
            // Set dropdowns
            const selects = document.querySelectorAll('#daily select');
            if (data.trigger && selects[0]) selects[0].value = data.trigger;
            if (data.energyLevel && selects[1]) selects[1].value = data.energyLevel;
            
            // Check reset methods
            data.resetMethods?.forEach(methodId => {
                const checkbox = document.getElementById(methodId);
                if (checkbox) checkbox.checked = true;
            });
            
            // Fill textareas
            const textareas = document.querySelectorAll('#daily textarea');
            if (data.wins && textareas[0]) textareas[0].value = data.wins;
            if (data.notes && textareas[1]) textareas[1].value = data.notes;
        }
        
        // Function to view all saved data (for users to access via console)
        function viewMyData() {
            const dailyLogs = JSON.parse(localStorage.getItem('dailyLogs') || '[]');
            const weeklyReviews = JSON.parse(localStorage.getItem('weeklyReviews') || '[]');
            const triggerChart = JSON.parse(localStorage.getItem('triggerChart') || '{}');
            const progressWins = JSON.parse(localStorage.getItem('progressWins') || '[]');
            
            console.log('📅 DAILY LOGS:', dailyLogs);
            console.log('📈 WEEKLY REVIEWS:', weeklyReviews);
            console.log('🎯 TRIGGER PATTERNS:', triggerChart);
            console.log('🏆 PROGRESS WINS:', progressWins);
            
            return {
                dailyLogs,
                weeklyReviews,
                triggerChart,
                progressWins
            };
        }
        
        // Export data function
        function exportData() {
            const allData = viewMyData();
            const dataStr = JSON.stringify(allData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `regression-tracker-data-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            alert('📁 Data exported!\n\nYour data has been downloaded as a JSON file. Keep it safe as a backup!');
        }
        
        // Make functions globally available
        window.viewMyData = viewMyData;
        window.exportData = exportData;
        
        function showDataSummary() {
            const dailyLogs = JSON.parse(localStorage.getItem('dailyLogs') || '[]');
            const weeklyReviews = JSON.parse(localStorage.getItem('weeklyReviews') || '[]');
            const progressWins = JSON.parse(localStorage.getItem('progressWins') || '[]');
            
            const summaryEl = document.getElementById('data-summary');
            summaryEl.innerHTML = `
                📅 Daily Logs: ${dailyLogs.length} entries<br>
                📈 Weekly Reviews: ${weeklyReviews.length} entries<br>
                🏆 Progress Wins: ${progressWins.length} entries<br>
                📊 Total Data Points: ${dailyLogs.length + weeklyReviews.length + progressWins.length}
            `;
            
            if (dailyLogs.length > 0) {
                const latestLog = dailyLogs[dailyLogs.length - 1];
                summaryEl.innerHTML += `<br><br>🕐 Latest entry: ${latestLog.date}`;
            }
        }
        
        function clearAllData() {
            if (confirm('⚠️ Are you sure you want to delete ALL your saved data?\n\nThis cannot be undone. Consider downloading your data first.')) {
                localStorage.removeItem('dailyLogs');
                localStorage.removeItem('weeklyReviews');
                localStorage.removeItem('triggerChart');
                localStorage.removeItem('progressWins');
                
                alert('🗑️ All data cleared!\n\nYour tracker is now reset to a fresh start.');
                showDataSummary(); // Update the display
            }
        }

        loadSavedData();
    </script>
</body>
</html>
